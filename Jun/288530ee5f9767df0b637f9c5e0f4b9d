Senate bargainers have reached agreement on a bipartisan gun violence bill, the parties’ top two negotiators said Tuesday, teeing up votes this week on an incremental but notable package that would stand as Congress’ response to mass shootings in Texas and New York that shook the nation. Nine days after  bargainers agreed to a framework proposal — and 29 years after Congress last enacted major firearms curbs — Sen. Christopher S. Murphy (D-Conn.) told reporters that a final accord on the proposal’s details had been reached and was ”in good shape.” Moments later, Sen. John Cornyn (R-Texas) the chief Republican bargainer, said he, Murphy and the other two top Senate bargainers had reached agreement. The legislation would toughen background checks for the youngest firearms buyers, require more sellers to conduct background checks and beef up penalties on gun traffickers. It also would disburse money to states and communities aimed at improving school safety and mental health initiatives. It lacks the much broader proposals that President Biden supports and Democrats have pushed for years without success, derailed by GOP opposition. These include banning assault-type weapons or raising the minimum age for buying them, prohibiting high-capacity magazines and requiring background checks for virtually all gun sales. Yet if enacted, the election-year agreement would spotlight a modest but telling shift in the politics of an issue that has defied compromise since Bill Clinton was president. After 10 Black shoppers were killed last month in Buffalo, N,Y., and 19 children and two teachers died days later in Uvalde, Texas, Democrats and some Republicans decided that this time, measured steps were preferable to Congress’ usual reaction to such horrors: gridlock. “Some think it goes too far; others think it doesn’t go far enough. And I get it. It’s the nature of compromise,” Cornyn said. But he added, “I believe that the same people who are telling us to do something are sending us a clear message, to do what we can to keep our children and communities safe. I’m confident this legislation moves us in a positive direction.”  It seemed likely a majority of Republicans — especially in the House — would oppose the legislation. Underscoring the backlash GOP lawmakers supporting the pact would face from the most conservative voters, delegates booed Cornyn at his state’s Republican convention Saturday as he described the measure. The measure will need at least 10 GOP votes to reach the 60-vote threshold major bills often need in the 50-50 Senate. Ten Republican senators had joined with 10 Democrats in backing the framework, and Cornyn said he believed those Republicans would see bargainers “tried our best to be true” to that  outline. What’s uncertain is whether the agreement and its passage would mark the beginning of slow but gradual congressional action to curb gun violence, or the high water mark on the issue. Until Buffalo and Uvalde, a numbing parade of mass slayings — at sites including elementary and high schools, houses of worship, military facilities, bars and the Las Vegas Strip — have yielded only stalemate in Washington. “Thirty years, murder after murder, suicide after suicide, mass shooting after mass shooting, Congress did nothing,” Murphy said. “This week we have a chance to break this 30-year period of silence with a bill that changes our laws in a way that will save thousands of lives.” Congress prohibited assault-type firearms in 1993 in a ban that expired after a decade, lawmakers’ last sweeping legislation addressing gun violence. The senators did not initially describe how they’d resolved the two major stumbling blocks that had delayed agreement on the plan’s legislative language. One was how to make abusive romantic partners subject to the existing ban that violent spouses face to obtaining guns. The other was  whether to provide federal aid to states that have “red flag” laws that make it easier to temporarily take firearms away from people deemed dangerous or to states that have violence intervention programs. Senate Majority Leader Charles E. Schumer (D-N.Y.) has said his goal was for his chamber to debate and vote on the legislation this week. Momentum in Congress for gun legislation has a history of waning quickly after mass shootings. Lawmakers are scheduled to begin a two-week  Fourth of July recess at the end of this week. Senate Minority Leader Mitch McConnell (R-Ky.) said he supported the outline bargainers announced last weekend. House Speaker Nancy Pelosi (D-San Francisco) also said she backed the effort and seems sure to set up votes on it as quickly as she can.