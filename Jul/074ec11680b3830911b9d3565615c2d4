Sri Lanka’s leaders agreed that lawmakers will elect a new president next week but struggled Tuesday to decide on the makeup of a new government to lift the bankrupt country out of economic and political collapse. Desperate in the face of severe shortages of food, fuel and medicine, protesters Saturday stormed embattled President Gotabaya Rajapaksa’s home, his seaside office and the official residence of his prime minister in the most dramatic day of a three-month crisis. Both officials said they would concede to demands that they resign: Rajapaksa promised to step down Wednesday, while Prime Minister Ranil Wickremesinghe said he would leave once a new government was in place. In a possible indication of the president’s next move, immigration officials said Rajapaksa’s brother, who was once his finance minster, tried to leave the country Monday night. Local media reported that he was not able to. But negotiating a new government has stymied opposition leaders, and the protesters have said they will stay put in the official buildings until the top leaders are gone. For days, people have flocked to the presidential palace, turning it into almost a tourist attraction — swimming in the pool, marveling at the paintings and lounging on beds piled high with pillows. At one point, they also burned the prime minister’s private home. A partial solution came late Monday, with lawmakers agreeing to elect a new president from their ranks in the coming days. Nominations for the post will be submitted July 19, and a secret vote will follow in Parliament the next day. The new president will serve the remainder of Rajapaksa’s term, which ends in 2024 — and could potentially appoint a new prime minister, who would then have to be approved by Parliament. Between Rajapaksa’s expected resignation Wednesday and the vote, the prime minster will serve as president, an arrangement that is sure to further anger protesters who want Wickremesinghe out immediately.  Corruption and mismanagement have left the island nation laden with debt, unable to pay for imports of food, fuel, medicine and other necessities, causing widespread shortages and despair among its 22 million people. Sri Lanka announced in April that it was suspending repayment of foreign loans because of a foreign currency crunch. The political impasse is further fueling the economic crisis since the absence of an alternative unity government threatens to delay an agreement for aid from the International Monetary Fund. In the meantime, the country is relying on aid from neighboring India and from China. Asked whether China was talking with Sri Lanka about possible loans, a Chinese Foreign Ministry official gave no indication whether such talks were happening. “China will continue to offer assistance as our capability allows for Sri Lanka’s social development and economic recovery,” said Chinese Foreign Ministry spokesman Wang Wenbin. “As to its debt to China, we support relevant financial institutions in finding a proper solution through consultation with Sri Lanka.” On Tuesday, Sri Lanka’s religious leaders urged protesters to leave government buildings if Rajapaksa steps down as promised Wednesday. Months of demonstrations have all but dismantled the Rajapaksa political dynasty, which has ruled Sri Lanka for most of the past two decades. The protesters accuse the president and his relatives of siphoning money from government coffers for years and Rajapaksa’s administration of hastening the country’s collapse by mismanaging the economy. The family has denied the corruption allegations, but Rajakpaksa acknowledged that some of his policies contributed to the meltdown. The president has not been seen nor heard from since Saturday, though his office has issued statements that indicate he has continued to carry out his duties.  There is speculation that the president may try to flee the island, as apparently one of his brothers tried to. S. Kanugala of Sri Lanka’s Immigration and Emigration Officers’ Assn. said that Basil Rajapaksa’s name was spotted on a list of departures from Colombo airport Monday and that his officers feared for their safety if they cleared him to leave. Kanugala said that the officers withdrew from their posts and that he did not know what happened to the brother. Local media reported that he was prevented from leaving the country.