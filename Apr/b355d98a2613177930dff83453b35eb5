It came at exactly 3 a.m. Monday: A flash of light streaking over the city’s darkened streets, then the massive blast, shaking walls, rattling windows and waking those few who had managed an already-troubled sleep. In the last couple of days, this city in eastern Ukraine had seen relatively few strikes, this despite the persistent sounds of artillery thudding somewhere in the distance, too far to tell from where but to which residents would almost hopefully say “nasha” — ours. But the Monday morning explosion was another unnerving reminder (not that any was needed, with almost all shops shuttered; two hotels barely operating; most windows boarded up or shattered; and sirens wailing the same sustained note for hours) that Kramatorsk is firmly in the firing line of advancing Russian forces. By the time the nightly curfew lifted a few hours later, residents woke to the news that an Iskander, a short-range Russian ballistic missile, had slammed dramatically but harmlessly into a field behind a hotel and a vocational school. It was unclear what it was targeting, but it sent the latest tremor of fear through the city even as Ukrainian President Volodymyr Zelensky warned hours later that the Russian offensive for the east had begun. Standing in mud by the missile crater — 9 feet deep and triple that in width — was a policeman with a clipboard, flanked by another policeman and two soldiers, taking turns digging out missile fragments from the black chernozem soil and recording what serial numbers they could discern off the components they recovered. Even before this war started, Kramatorsk was the lynchpin for the Ukrainian government’s earlier conflict against Moscow-backed separatists who tried to seize the city in April 2014 before they were ousted a few months later. For the almost eight years of that fight, Kramatorsk became the main resupply base for the Ukrainian army and the seat of power for the government’s Donetsk regional administration. As Russia shifts its focus to taking the Donbas region, its forces are closing in from the north, east and south like a shark’s mouth ready to devour Kramatorsk along with the nearby city of Sloviansk. The prize of capturing both would underscore what Moscow wants to accomplish in the east while allowing Russian forces to encircle much of Ukraine’s army. Such a prospect has forced Mayor Oleksandr Goncharenko into action. In the weeks since the Russian invasion began, he’s reoriented the city to be on a war footing, stockpiling enough supplies to last a siege two to three months long. The change is even reflected in the city council building. To enter, one has to go through the rear of the building, past guards and a sandbag bunker. The floor is obscured by boxes loaded with foodstuffs, including large jars of pickles, bags of rice as well as medicines. It’s been tough, the mayor said, convincing the town’s last holdouts to leave. A cluster munitions attack this month on the Kramatorsk train station, which left more than 50 people dead and scores wounded, had spurred people to flee. But judging by municipal trash collection levels, Goncharenko said, there were anywhere from 35,000 to 40,000 people still in the city. Evacuations on buses arranged by the municipality had dwindled to a single bus per day. Many believe one motive for those staying is that a large percentage of the Donbas’ ethnic Russian population harbors pro-Moscow sentiments and would probably not oppose living under Russian rule. But Goncharenko suggested that two months of withering war had changed such allegiances. “Eight years ago, for Kramatorsk, perhaps 60% were for the Russians. Today I don’t think it’s more than 10%. The mentality has changed,” he said. “We have to thank Mr. Putin for that — that through this war he brought our people together. Ukrainians are more united now.” He surmised most people have stayed because they have few options. “It was the same in 2014. The ones who stay, they have only their house or flat, and they tell us, ‘What would we find in other cities?’ ” he said. “Their home for them is more precious than their own lives.” That attitude seemed very much on display Monday morning. Though there had been no casualties, the shock wave from the explosion had shattered windows in a swath of eight residential buildings on Kramatorsk’s “Heroes of Ukraine” street, a few hundred yards away. Despite the gray weather, residents and municipal workers swept up the detritus, checked on homes and prepared to put up sheets of plastic to protect against the elements. Helena, a 55-year-old social worker who gave only her first name for reasons of privacy, was sleeping when she heard the explosion, which destroyed her balcony. She blamed the attack on media coverage during a visit by former Ukrainian President Petro Poroshenko two days prior. He had come to Kramatorsk to distribute aid, she said, as she tried to shoo away visiting reporters for fear that the attention would spur another strike. “All the locals asked Poroshenko not to do publicity here,” she said. “If he wanted to give us aid, just do that and leave.” Alexy Dyakov, a 44-year-old jeweler living in the nearby village of Lazurny, had come with his mother, Lyudmilla Anatolivna, an elegant, white-haired woman with a black and white fur cap, to see what happened to his apartment. The situation in Lazurny was getting worse — his home there was damaged from another shelling — and he decided to move to a place where he at least had a basement. “Now I’m not so sure,” he said. He walked around the apartment, a musty two-bedroom that seemed to have been untouched since the Soviet era: display cabinets with tchotchkes and old china; thick carpeting and faded furniture; even an old rotary phone and an ancient TV with an aerial. He detached the aerial as he spoke, using it to poke away shards of glass from a window pane. Dyakov had already evacuated his wife and children to Poland, but he had come back to take care of his mother, who recently had heart surgery and wouldn’t survive the journey. She stood in the hallway, speaking calmly at first but breaking down as the sentences rushed out of her. “He’s here because of me,” she said of her son, who looked at her not unkindly but said nothing. “I’m guilty. His family left and he’s away from them.” She added that the basement here was their only hope of protection, but it was no longer an option. She felt more vulnerable than ever: The recent blast near the other apartment they owned had damaged her hearing. She couldn’t hear the sirens now. She couldn’t even write her thoughts to calm herself. “My hand shakes too much,” she said. Her voice rasped with rage. “Kill Putin! They say we’re brothers. But do brothers do this? All the time they say Ukrainians kill, but it’s them, those Russian bastards,” she said. “My mother was Russian. Thank God she didn’t live to see this. Idiots! . . . If something give me a machine gun, I’d kill them just the way they kill our soldiers, our children, our women, everyone.” Moments later, the siren that had been blaring for more than 30 minutes stopped. Anatolivna seemed not to notice.